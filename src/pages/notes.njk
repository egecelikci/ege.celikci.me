---
layout: base
tags: nav
title: notes
description: "Short form content and visual logs."
eleventyNavigation:
  key: notes
  order: 3
permalink: notes/{% if pagination.pageNumber %}{{ pagination.pageNumber }}/{% endif %}
pagination:
  data: collections.notes
  size: 15
  alias: notes
---

<div class="page page--notes">
  <header class="page__header">
    <div class="page__header-content">
      <h1 class="page__title">{{ title }}</h1>
      
      {# Modern Segmented Control Toggle #}
      <div class="notes-view-toggle">
        <div class="view-toggle" role="group" aria-label="View mode">
          {# The sliding background pill #}
          <div class="view-toggle__bg"></div>
          
          <button
            type="button"
            class="view-toggle__btn"
            data-view="list"
            aria-pressed="true"
          >
            {% icon "list" %}
          </button>
          
          <button
            type="button"
            class="view-toggle__btn"
            data-view="grid"
            aria-pressed="false"
          >
            {% icon "grid" %}
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="page__content">
    {% if notes | length %}
      {# Container has explicit ID for JS and Infinite Scroll class #}
      <div
        class="notelist js-infinitescroll-container is-list-view"
        id="notes-container"
      >
        {% for note in notes %}
          {# Get image data for this note #}
          {% set gridData = note.templateContent | getNoteGridData(note.data.title) %}
          
          <div
            class="notelist__item js-infinitescroll-item {% if gridData.hasImage %}has-image{% endif %}"
            data-note-id="{{ loop.index }}"
          >
            {# 1. Grid View Component - Now with data attributes #}
            <div 
              class="note-grid-item"
              {% if gridData.hasImage %}
              data-href="{{ note.url }}"
              data-src="{{ gridData.src }}"
              data-srcset="{{ gridData.srcset }}"
              data-alt="{{ gridData.alt }}"
              data-title="{{ gridData.title }}"
              data-caption="{{ gridData.caption }}"
              data-has-multiple="{{ gridData.hasMultipleImages }}"
              {% endif %}
            ></div>
            
            {# 2. List View Component (Standard Render) #}
            <div class="note-social-grid" id="gallery-{{ loop.index }}">
              {% include 'note.njk' %}
            </div>
          </div>
        {% endfor %}
      </div>

      <nav class="js-infinitescroll-pagination">
        {% if pagination.nextPageHref %}
          
            href="{{ pagination.nextPageHref }}"
            class="js-infinitescroll-next"
          >
            Load more notes
          </a>
        {% endif %}
      </nav>
    {% else %}
      <div class="empty-state">
        <p class="lead">No notes found.</p>
      </div>
    {% endif %}
  </div>
</div>