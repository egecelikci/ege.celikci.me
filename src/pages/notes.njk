---
layout: base
tags: nav
title: notes
description: "Short form content and visual logs."
eleventyNavigation:
  key: notes
  order: 3
permalink: notes/{% if pagination.pageNumber %}{{ pagination.pageNumber }}/{% endif %}
pagination:
  data: collections.notes
  size: 15
  alias: notes
---

<div class="page page--notes">
  <header class="page__header">
    <div class="page__header-content">
      <h1 class="page__title">{{ title }}</h1>

      {# Modern Segmented Control Toggle #}
      <div class="notes-view-toggle">
        <div class="view-toggle" role="group" aria-label="View mode">
          {# The sliding background pill #}
          <div class="view-toggle__bg"></div>

          <button
            type="button"
            class="view-toggle__btn"
            data-view="list"
            aria-pressed="true"
          >
            {% icon "list" %}
          </button>

          <button
            type="button"
            class="view-toggle__btn"
            data-view="grid"
            aria-pressed="false"
          >
            {% icon "grid" %}
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="page__content">
    {% if notes | length %}
      {# Container has explicit ID for JS and Infinite Scroll class #}
      <div
        class="notelist js-infinitescroll-container is-list-view"
        id="notes-container"
      >
        {% for note in notes %}
          {# Get image data for this note #}
          {%
            set gridData = note.templateContent | getNoteGridData(note.data.title)
          %}

          <div
            class="notelist__item js-infinitescroll-item {% if gridData.hasImage %}has-image{% endif %}"
            data-note-id="{{ loop.index }}"
          >
            {# 1. Grid View Component - Server Side Rendered #}
            <div class="note-grid-item">
              {% if gridData.hasImage %}
                <a
                  href="{{ note.url }}"
                  class="note-grid-item__link"
                  aria-label="View note: {{ gridData.title }}{% if gridData.title and gridData.caption %}-{% endif %}{{ gridData.caption }}"
                >
                  <div class="note-grid-item__media">
                    <img
                      src="{{ gridData.src }}"
                      srcset="{{ gridData.srcset }}"
                      sizes="(max-width: 600px) 480px, 800px"
                      alt="{{ gridData.title }} {{ gridData.caption }}"
                      loading="lazy"
                    />
                  </div>
                  {% if gridData.title or gridData.caption %}
                    <div class="note-grid-item__overlay">
                      <div class="note-grid-item__overlay-content">
                        {% if gridData.title %}
                          <h3 class="note-grid-item__title">
                            {{ gridData.title }}
                          </h3>
                        {% endif %}
                        {% if gridData.caption %}
                          <p class="note-grid-item__caption">
                            {{ gridData.caption }}
                          </p>
                        {% endif %}
                      </div>
                    </div>
                  {% endif %}
                  {% if gridData.hasMultipleImages %}
                    <div class="note-grid-item__badge">
                      {% icon "images", 12, 12 %}
                    </div>
                  {% endif %}
                </a>
              {% endif %}
            </div>

            {# 2. List View Component (Standard Render) #}
            <div class="note-social-grid" id="gallery-{{ loop.index }}">
              {% include 'note.njk' %}
            </div>
          </div>
        {% endfor %}
      </div>

      <nav class="js-infinitescroll-pagination">
        {% if pagination.nextPageHref %}
          <a
            href="{{ pagination.nextPageHref }}"
            class="js-infinitescroll-next"
          >
            Load more notes
          </a>
        {% endif %}
      </nav>
    {% else %}
      <div class="empty-state">
        <p class="lead">No notes found.</p>
      </div>
    {% endif %}
  </div>
</div>
