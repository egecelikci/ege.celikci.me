<nav class="nav" role="navigation">
  <ul class="nav__menu">
    {%- for item in collections.all | eleventyNavigation -%}
      {%- if item.url -%}
        {%- set isCurrent = (item.url == page.url) -%}
        {%- set isParent = item.url != '/' and item.url in page.url -%}
        <li
          class="nav__item{% if isCurrent or isParent %}nav__item--active{% endif %}"
        >
          <a
            class="nav__link {% if isCurrent or isParent %}nav__link--active{% endif %}"
            href="{% if isCurrent %}#main{% else %}{{ item.url | url }}{% endif %}"
            {% if isCurrent %}aria-current="page"{% endif %}
          >
            {{ item.title }}
          </a>
        </li>
      {%- endif -%}
    {%- endfor -%}
  </ul>
</nav>
