@use "../utils/mixins";

.callout {
  // Local tokens
  --callout-accent: var(--color-text);
  --callout-bg: var(--color-bg-offset);
  --callout-border: var(--color-border);

  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: var(--space-md);

  position: relative;
  padding: var(--space-md);
  margin-block: var(--space-lg);

  background-color: var(--callout-bg);
  border: 1px solid var(--callout-border);
  border-left: 4px solid var(--callout-accent);
  border-radius: var(--border-radius-md);

  // Typography
  text-align: left;

  &__icon {
    flex-shrink: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    // Visual alignment with text cap-height/line-height
    margin-top: 0.15em;

    color: var(--callout-accent);

    svg {
      display: block;
      width: 1.5rem; // Ensure icon size consistency
      height: 1.5rem;
    }
  }

  &__content {
    flex: 1;
    min-width: 0; // Prevent overflow in flex items

    // Reset margins for first/last elements to fit container perfectly
    > *:first-child {
      margin-top: 0;
    }

    > *:last-child {
      margin-bottom: 0;
    }

    > * + * {
      margin-top: var(--space-sm);
    }
  }

  // Variants
  &--warning,
  &--action {
    --callout-accent: var(--color-primary);
  }

  &--info {
    --callout-accent: var(--color-secondary);
  }
}
