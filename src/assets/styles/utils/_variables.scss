@use "sass:map";

//--------------------
// SCSS VARIABLES & CSS CUSTOM PROPERTIES
//--------------------

// Grid breakpoints (kept as Sass variables for mixins)
$breakpoints: (
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1400px,
);

// Containers (kept as Sass variables for mixins, can be used as fallbacks)
$container-max-width: 1440px;
$container-narrow-max-width: 100rem; // Using 'rem' for consistency

// Z-Index Stack (exposed as CSS custom properties)
$z-layers: (
  "modal": 999,
  "nav": 100,
  "content-overlay": 30,
);

// ===========================================================================
// CSS Custom Properties (Design Tokens)
// Defined in :root for global access and easy theming
// ===========================================================================

:root {
  // Grayscale Palette (using HSL for flexibility)
  --color-gray-900: hsl(210, 8%, 18%); // Darkest
  --color-gray-800: hsl(210, 7%, 26%);
  --color-gray-700: hsl(210, 6%, 35%);
  --color-gray-600: hsl(210, 5%, 45%);
  --color-gray-500: hsl(210, 4%, 60%); // Mid-gray
  --color-gray-400: hsl(210, 3%, 75%);
  --color-gray-300: hsl(210, 2%, 85%);
  --color-gray-200: hsl(210, 1%, 90%);
  --color-gray-100: hsl(210, 1%, 95%); // Lightest

  // Brand Colors
  --mastodon-brand-primary: #595aff;

  // Typography
  --font-family-sans-serif:
    "Josefin Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
    "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
    "Helvetica Neue", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol";
  --font-family-serif: "Times New Roman", Georgia, Times, serif;
  --font-family-monospace:
    Inconsolata, Menlo, Monaco, Consolas, "Andale Mono", "Courier New",
    monospace;
  --font-family-base: var(--font-family-sans-serif);
  --font-family-display: var(
    --font-family-sans-serif
  ); // Often same as base or a distinct one

  // Fluid Font Sizes (using clamp(min, preferred, max))
  --font-size-xs: clamp(0.75rem, 0.7vw + 0.5rem, 0.875rem); // ~12-14px
  --font-size-sm: clamp(0.875rem, 0.8vw + 0.6rem, 1rem); // ~14-16px
  --font-size-base: clamp(1rem, 0.9vw + 0.7rem, 1.125rem); // ~16-18px
  --font-size-md: clamp(1.125rem, 1vw + 0.8rem, 1.25rem); // ~18-20px
  --font-size-lg: clamp(1.25rem, 1.2vw + 0.9rem, 1.5rem); // ~20-24px
  --font-size-xl: clamp(1.5rem, 1.5vw + 1rem, 2rem); // ~24-32px
  --font-size-2xl: clamp(2rem, 2vw + 1.25rem, 2.75rem); // ~32-44px
  --font-size-3xl: clamp(2.5rem, 2.5vw + 1.5rem, 3.5rem); // ~40-56px

  // Line Heights
  --line-height-heading: 1.2;
  --line-height-body: 1.625;

  // Spacing Scale (Fluid, using clamp())
  --space-2xs: clamp(0.25rem, 0.1vw + 0.2rem, 0.375rem); // ~4-6px
  --space-xs: clamp(0.5rem, 0.2vw + 0.4rem, 0.75rem); // ~8-12px
  --space-sm: clamp(0.75rem, 0.4vw + 0.6rem, 1rem); // ~12-16px
  --space-md: clamp(1rem, 0.5vw + 0.8rem, 1.5rem); // ~16-24px
  --space-lg: clamp(1.5rem, 0.75vw + 1.25rem, 2rem); // ~24-32px
  --space-xl: clamp(2rem, 1vw + 1.5rem, 3rem); // ~32-48px
  --space-2xl: clamp(3rem, 1.5vw + 2.5rem, 4rem); // ~48-64px
  --space-3xl: clamp(4rem, 2vw + 3rem, 5rem); // ~64-80px

  // Avatar Sizes
  --size-avatar-lg: 48px;
  --size-avatar-sm: 32px;

  // Border Radius
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;
  --border-radius-full: 9999px;

  // Box Shadows
  --shadow-sm: 0 1px 2px hsl(0 0% 0% / 0.07);
  --shadow-md: 0 4px 6px hsl(0 0% 0% / 0.1);
  --shadow-lg: 0 10px 15px hsl(0 0% 0% / 0.1), 0 4px 6px hsl(0 0% 0% / 0.05);
  --shadow-elevated: var(--shadow-lg); // Keep existing name for now

  // Animation
  --animation-curve-default: cubic-bezier(0.4, 0, 0.2, 1);
  --animation-speed-fast: 0.15s;
  --animation-speed-normal: 0.3s;
  --animation-speed-slow: 0.5s;

  // Specific Variables (Keep as Sass vars for z-index function only)
  // These will be consumed by the z() function and converted to CSS vars
  --z-modal: #{map.get($z-layers, "modal")};
  --z-nav: #{map.get($z-layers, "nav")};
  --z-content-overlay: #{map.get($z-layers, "content-overlay")};
}

// ===========================================================================
// Dark Mode Variables (Example: Apply to body[data-theme="dark"])
// ===========================================================================

// NO THEME COLORS HERE, as themes.css will provide these.

// ===========================================================================
// Legacy Sass Variables (For mixins or direct SCSS calculations only)
// These are primarily for internal SCSS use and provide fallbacks.
// ===========================================================================

// Keep Sass breakpoints map
$grid-breakpoints: $breakpoints; // Alias for compatibility with mixin

$font-size-root: 100%; // Base for rem calculations in HTML { font-size }
$font-size-base: var(--font-size-base);
$line-height: var(--line-height-body);

$animation-curve-fast-out-slow-in: var(--animation-curve-default);
$animation-curve-linear-out-slow-in: cubic-bezier(
  0,
  0,
  0.2,
  1
); // Not used as CSS var
$animation-curve-fast-out-linear-in: cubic-bezier(
  0.4,
  0,
  1,
  1
); // Not used as CSS var
$animation-curve-default: var(--animation-curve-default);

$spacing-x: var(--space-lg); // Fallback if custom prop isn't available
$spacing-y: var(--space-lg); // Fallback if custom prop isn't available

$box-shadow: var(--shadow-sm);
$box-shadow-elevated: var(--shadow-elevated);

$border-radius: var(--border-radius-sm);

// Map Sass z-layers to CSS custom properties for direct use
@each $layer, $z-value in $z-layers {
  :root {
    --#{"z-" + $layer}: #{$z-value};
  }
}
